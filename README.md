# automatic
这是一个开源的机械臂硬件系统，通过视觉和AI能力，实现目标芯片的检测，拾取，分类摆放
## 前置条件

1. 芯片：8mm×8mm，顶部丝印



## 需求

1. 速度：5 秒/颗
2. 输出：10 个摆盘，每盘 30cm×13cm；每盘网格 10×26（260 颗）
3. 分类：按编号分 10 类



## 方案

芯片放入散料区 ---> 散料区芯片检测与正反面筛选（如无目标则启动振动盘） ---> 芯片抓取 ---> 固定识别工位放置 ---> 芯片型号识别 ---> 放入对应摆盘



#### 机械硬件

总体结构： 直角坐标机械系统。X Y轴：皮带模组，行程 ≈ 600–800 mm。Z 轴：丝杆或同步带 Z 轴，行程 ≈ 100 mm。驱动方式：闭环步进电机。

末端：真空吸嘴 + 小型真空发生器 + 电磁阀，末端加一个弹簧补偿结构，避免高度误差导致的漏吸/碰撞。末端执行器增加 1 个旋转自由度（R 轴），用于芯片姿态旋转与方向调整。

振动盘：成品较贵，可以考虑自行制作。

成像系统：散料区视觉系统（1 套）：工业面阵相机、镜头、光源，具体参数根据实况选定。识别工位视觉系统（1 套）：工业面阵相机、镜头、光源、识别工位遮光罩，具体参数根据实况选定。

摆盘：输出摆盘（需要定位销 或 挡边）、识别工位（单颗芯片定位凹槽）

计算设备：笔记本/台式

运动控制：单片机 或 运动控制卡（建议运动控制卡）



#### 控制算法

**控制总体架构**：

上位机（Windows PC）：流程调度、视觉推理、托盘位管理、数据记录、HMI界面

下位控制（运动控制卡/MCU：三轴插补运动、IO实时控制

**运动控制：

速度规划：梯形/ S 曲线加减速 （运动控制卡一般有自带）

轨迹策略：两段式Z下探：快速下探到接近高度，慢速贴近吸取/放置高度（避免撞击）。

**坐标标定**：

散料区相机坐标系 → 机器人坐标系（手眼标定）



#### 视觉定位与识别

##### 散料区芯片检测与正反面筛选

传统视觉技术路线：

​	图像预处理：灰度化、滤波、均衡化。

​	芯片候选检测：阈值分割 / 边缘检测。

​	正反面筛选：基于纹理特征、灰度方差。

优缺点：

​	算法简单，实现成本低，无需训练数据；对光照、脏污、残胶较敏感；规则参数需要现场反复调试。



深度学习技术路线：

​	采用轻量级目标检测模型（基于 ultralytics 的 YOLO11n，实例分割或旋转目标框），在散料图像中直接检测芯片目标，输出其位置、角度及正反面类别，仅对正面芯片生成抓取候选目标；结合目标间距与置信度筛选可抓取芯片。

优缺点：

​	对光照、脏污、残胶等情况鲁棒性更强；正反面判断准确率高，稳定性好；需要采集并标注一定数量的训练样本。



**丝印识别**

传统视觉技术路线：

​	图像预处理：去噪、对比度增强

​	字符识别：OCR 或模板匹配

优缺点：

​	不依赖大量训练数据；稳定性不足，对光照、脏污、残胶非常敏感。



深度学习技术路线：

​	在固定识别工位采集单颗芯片图像，优先采用深度学习分类模型直接对芯片型号进行判定（10 类），避免字符分割带来的不稳定因素；在需要输出字符文本的场景下，可选用 PaddleOCR 模型进行字符识别并映射型号。识别结果结合置信度阈值进行拒识处理。

优缺点：

​	无需字符分割，直接从整体外观识别型号，识别稳定性高；对计算资源有一定要求。

